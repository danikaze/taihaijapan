{{> admin.header}}

{{#if needsPasswordChange }}
  {{{warningMsg (t 'msg.needsPasswordChange')}}}
{{/if}}

<section id="config-site">
  <h4 data-toggle="config-site-content">{{{t 'options.site.sectionTitle'}}}</h4>

  <div id="config-site-content">
    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
      <input class="mdl-textfield__input" type="text" id="config-site-title" name="site.title" value="{{lookup config 'site.title'}}">
      <label class="mdl-textfield__label" for="config-site-title">{{{t 'options.site.title'}}}</label>
    </div>

    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
      <input class="mdl-textfield__input" type="text" id="config-google-analytics" name="google.analytics" value="{{lookup config 'google.analytics'}}">
      <label class="mdl-textfield__label" for="config-google-analytics">{{{t 'options.site.ga'}}}</label>
    </div>
  </div>
</section>

<section id="config-admin">
  <h4 data-toggle="page-content">{{{t 'options.adminUser.sectionTitle'}}}</h4>

  <input type="hidden" name="admin.id" value="{{admin.id}}" />

  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
    <input class="mdl-textfield__input" type="text" id="config-admin-user" name="admin.username" value="{{admin.username}}">
    <label class="mdl-textfield__label" for="config-admin-username">{{{t 'options.adminUser.username'}}}</label>
  </div>

  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
    <input class="mdl-textfield__input" type="text" id="config-admin-lang" name="admin.lang" value="{{admin.lang}}">
    <label class="mdl-textfield__label" for="config-admin-lang">{{{t 'options.adminUser.language'}}}</label>
  </div>

  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
    <input class="mdl-textfield__input" type="password" id="config-admin-password" name="admin.password">
    <label class="mdl-textfield__label" for="config-admin-password">{{{t 'options.adminUser.password'}}}</label>
  </div>

  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
    <input class="mdl-textfield__input" type="password" id="config-admin-password-confirm" name="admin.passwordConfirmation">
    <adminUser class="mdl-textfield__label" for="config-admin-password-confirm">{{{t 'options.adminUser.passwordConfirm'}}}</label>
  </div>
</section>

<section id="config-page-admin">
  <h4 data-toggle="page-admin-content">{{{t 'options.adminPage.sectionTitle'}}}</h4>

  <div id="page-admin-content">
    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
      <input class="mdl-textfield__input" type="number" min="0" id="page-admin-imagesPerPage" name="page.admin.imagesPerPage" value="{{lookup config 'page.admin.imagesPerPage'}}">
      <label class="mdl-textfield__label" for="page-admin-imagesPerPage">{{{t 'options.adminPage.imgsPerPage'}}}</label>
    </div>

    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
      <input class="mdl-textfield__input" type="text" id="page-admin-orderBy" name="page.admin.orderBy" pattern="(created)|(updated)|(slug)|(title)" value="{{lookup config 'page.admin.orderBy'}}">
      <label class="mdl-textfield__label" for="page-admin-orderBy">{{{t 'options.adminPage.orderBy'}}}</label>
    </div>

    <label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="page-admin-reverse">
      <input type="checkbox" value="true" id="page-admin-reverse" class="mdl-checkbox__input" name="page.admin.reverse"{{#if (lookup config 'page.admin.reverse')}} checked{{/if}}>
      <span class="mdl-checkbox__label">{{{t 'options.adminPage.orderReverse'}}}</span>
    </label>
  </div>
</section>

<section id="config-page-index">
  <h4 data-toggle="page-index-content">{{{t 'options.indexPage.sectionTitle'}}}</h4>

  <div id="page-index-content">
    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
      <input class="mdl-textfield__input" type="number" min="0" id="config-page-index-maxImages" name="page.index.maxImages" value="{{lookup config 'page.index.maxImages'}}">
      <label class="mdl-textfield__label" for="config-page-index-maxImages">{{{t 'options.indexPage.imgsPerPage'}}}</label>
    </div>

    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
      <input class="mdl-textfield__input" type="text" id="config-controllers-index-orderBy" name="page.index.orderBy" pattern="(created)|(updated)|(slug)|(title)" value="{{lookup config 'page.index.orderBy'}}">
      <label class="mdl-textfield__label" for="config-page-index-orderBy">{{{t 'options.indexPage.orderBy'}}}</label>
    </div>

    <label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="config-page-index-reverse">
      <input type="checkbox" value="true" id="config-page-index-reverse" class="mdl-checkbox__input" name="page.index.reverse"{{#if (lookup config 'page.index.reverse')}} checked{{/if}}>
      <span class="mdl-checkbox__label">{{{t 'options.indexPage.orderReverse'}}}</span>
    </label>
  </div>
</section>

<section id="config-gallery-options">
  <h4 data-toggle="gallery-options-content">{{{t 'options.galleryPage.sectionTitle'}}}</h4>

  <div id="gallery-options-content">
    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
      <input class="mdl-textfield__input" type="number" min="0" id="config-page-gallery-imagesPerPage" name="page.gallery.imagesPerPage" value="{{lookup config 'page.gallery.imagesPerPage'}}">
      <label class="mdl-textfield__label" for="config-page-gallery-imagesPerPage">{{{t 'options.galleryPage.imgsPerPage'}}}</label>
    </div>

    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
      <input class="mdl-textfield__input" type="text" id="config-page-gallery-orderBy" name="page.gallery.orderBy" pattern="(created)|(updated)|(slug)|(title)" value="{{lookup config 'page.gallery.orderBy'}}">
      <label class="mdl-textfield__label" for="config-page-gallery-orderBy">{{{t 'options.galleryPage.orderBy'}}}</label>
    </div>

    <label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="config-page-gallery-reverse">
      <input type="checkbox" value="true" id="config-page-gallery-reverse" class="mdl-checkbox__input" name="page.gallery.reverse"{{#if (lookup config 'page.gallery.reverse')}} checked{{/if}}>
      <span class="mdl-checkbox__label">{{{t 'options.galleryPage.orderReverse'}}}</span>
    </label>
  </div>
</section>

<section id="config-images-options">
  <h4 data-toggle="images-options-content">{{{t 'options.imageOptions.sectionTitle'}}}</h4>

  <div id="images-options-content">
    <label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="config-images-hiddenByDefault">
      <input type="checkbox" value="true" id="config-images-hiddenByDefault" class="mdl-checkbox__input" name="images.hiddenByDefault"{{#if (lookup config 'images.hiddenByDefault')}} checked{{/if}}>
      <span class="mdl-checkbox__label">{{{t 'options.imageOptions.hiddenByDefault'}}}</span>
    </label>
  </div>
</section>

<section id="config-thumbnails-options">
  <h4 data-toggle="thumbnails-options-content">{{{t 'options.thumbnailOptions.sectionTitle'}}}</h4>

  <div id="thumbnails-options-content">
    <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp">
      <thead>
        <tr>
          <th class="mdl-data-table__cell--non-numeric">{{{t 'options.thumbnailOptions.id'}}}</th>
          <th>{{{t 'options.thumbnailOptions.width'}}}</th>
          <th>{{{t 'options.thumbnailOptions.height'}}}</th>
          <th>{{{t 'options.thumbnailOptions.quality'}}}</th>
        </tr>
      </thead>
      <tbody>
        {{#each sizes}}
          <tr class="thumb-size">
            <input type="hidden" name="id" value="{{this.id}}"/>
            <td class="mdl-data-table__cell--non-numeric">
              <div class="mdl-textfield mdl-js-textfield">
                <input class="mdl-textfield__input" type="text" id="config-sizes-label-{{@key}}" name="label" pattern="[a-zA-Z][a-zA-Z0-9_.-]?" value="{{this.label}}">
              </div>
            </td>
            <td>
              <div class="mdl-textfield mdl-js-textfield">
                <input class="mdl-textfield__input" type="number" min="0" id="config-sizes-w-{{@key}}" name="width" value="{{this.width}}">
              </div>
            </td>
            <td>
              <div class="mdl-textfield mdl-js-textfield">
                <input class="mdl-textfield__input" type="number" min="0" id="config-sizes-h-{{@key}}" name="height" value="{{this.height}}">
              </div>
            </td>
            <td>
              <div class="mdl-textfield mdl-js-textfield">
                <input class="mdl-textfield__input" type="number" min="0" max="100" id="config-sizes-quality-{{@key}}" name="quality" value="{{this.quality}}">
              </div>
            </td>
          </tr>
        {{/each}}
      </tbody>
    </table>
  </div>
</section>

<button id="update-button" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect">
  {{{t 'updateSettings'}}}
</button>

<script src="/public/js/admin-config-{{version}}.min.js" type="text/javascript"></script>
<script type="text/javascript">
  run('{{routeOptions}}', {{{stringify i18n}}});
</script>

{{> admin.footer}}
